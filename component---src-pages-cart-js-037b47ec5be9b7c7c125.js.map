{"version":3,"sources":["webpack:///./src/pages/cart.js","webpack:///./src/components/seo.js","webpack:///./src/components/image.js","webpack:///./src/components/Jumbo.js","webpack:///./src/utils/priceFormat.js","webpack:///./src/components/Products.js","webpack:///./src/components/ProductDetail.js","webpack:///./src/components/Stars.js","webpack:///./src/components/Cart.js","webpack:///./src/components/index.js"],"names":["__webpack_require__","r","__webpack_exports__","d","cart","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_components__WEBPACK_IMPORTED_MODULE_1__","a","createElement","SEO","_ref","description","lang","meta","title","site","_public_static_d_2417117884_json__WEBPACK_IMPORTED_MODULE_0__","data","metaDescription","siteMetadata","react__WEBPACK_IMPORTED_MODULE_1___default","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","htmlAttributes","titleTemplate","name","content","property","author","concat","defaultProps","propTypes","PropTypes","string","arrayOf","object","isRequired","Image","_165052191","react_default","gatsby_image_default","fluid","childImageSharp","Jumbo","components","priceFormat","price","priceFloat","toFixed","Intl","NumberFormat","style","currency","format","Products","products","map","_ref2","node","formatPrice","unit_amount","key","id","src","product","metadata","img","alt","gatsby_browser_entry","to","role","aria-label","ProductDetail","_ref$product","formatePrice","_useState","useState","size","setSize","_useState2","qty","setQty","addToCart","useContext","CartContext","seo","Stars","wear","selected","onClick","type","disabled","value","sku","quantity","stars","setStars","Cart","total","setTotal","stripe","setStripe","useEffect","window","Stripe","process","reduce","acc","current","handleSubmit","asyncToGenerator_default","regenerator_default","mark","_callee","e","error","wrap","_context","prev","next","preventDefault","redirectToCheckout","lineItems","_ref3","mode","successUrl","cancelUrl","sent","stop","_x","apply","this","arguments","swag","length"],"mappings":"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","file":"component---src-pages-cart-js-037b47ec5be9b7c7c125.js","sourcesContent":["import React from 'react'\nimport { Cart } from '../components'\n\nexport default function cart() {\n  return (\n    <Cart />\n  )\n}\n","/**\n * SEO component that queries for data with\n *  Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n\nimport React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Helmet from \"react-helmet\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nfunction SEO({ description, lang, meta, title }) {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            author\n          }\n        }\n      }\n    `\n  )\n\n  const metaDescription = description || site.siteMetadata.description\n\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\n      meta={[\n        {\n          name: `description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:title`,\n          content: title,\n        },\n        {\n          property: `og:description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:type`,\n          content: `website`,\n        },\n        {\n          name: `twitter:card`,\n          content: `summary`,\n        },\n        {\n          name: `twitter:creator`,\n          content: site.siteMetadata.author,\n        },\n        {\n          name: `twitter:title`,\n          content: title,\n        },\n        {\n          name: `twitter:description`,\n          content: metaDescription,\n        },\n      ].concat(meta)}\n    />\n  )\n}\n\nSEO.defaultProps = {\n  lang: `es`,\n  meta: [],\n  description: ``,\n}\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  lang: PropTypes.string,\n  meta: PropTypes.arrayOf(PropTypes.object),\n  title: PropTypes.string.isRequired,\n}\n\nexport default SEO\n","import React from 'react'\nimport { graphql, useStaticQuery } from 'gatsby'\nimport Img from 'gatsby-image'\n\nexport default function Image({ name }) {\n  const data = useStaticQuery(\n    graphql`\n        query GET_IMAGE {\n          icon: file(relativePath: {eq: \"icon.png\"}){\n            childImageSharp {\n              fluid(maxWidth: 1000) {\n                ...GatsbyImageSharpFluid\n              }\n            }\n          }\n        }\n      `\n  )\n\n  return <Img fluid={data[name].childImageSharp.fluid} />\n}\n","import React from 'react'\nimport { StyledJumbo } from '../styles/components'\nimport { Image } from './'\n\nexport default function Jumbo({ description }) {\n  return (\n    <StyledJumbo>\n      <div>\n        <h2>¡Consigue el mejor swag exclusivo y especial de Platzi!</h2>\n        <small>{description}</small>\n      </div>\n      <Image name='icon'/>\n    </StyledJumbo>\n  )\n}\n","export default function priceFormat(price) {\n  const priceFloat = (price / 100).toFixed(2)\n  return Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n  }).format(priceFloat)\n}\n","import React from 'react'\nimport {Link} from 'gatsby'\nimport formatPrice from '../utils/priceFormat'\nimport {StyledProducts} from '../styles/components'\n\nexport default function Products({products}) {\n  return (\n    <StyledProducts>\n      <h2>Products</h2>\n      <section>\n        {\n          products.map(({node}) => {\n            const price = formatPrice(node.unit_amount)\n            return (\n              <article key={node.id}>\n                <img src={node.product.metadata.img} alt={node.product.name} />\n                <p>{node.product.name}</p>\n                <small>USD {price}</small>\n                <Link to={`/${node.id}`}>\n                  Comprar ahora <span role='img' aria-label='emoji'> ➡️ </span>\n                </Link>\n              </article>\n            )\n          })\n        }\n      </section>\n    </StyledProducts>\n  )\n}\n","import React, { useState, useContext } from \"react\"\nimport priceFormat from \"../utils/priceFormat\"\nimport { CartContext } from \"../context\"\nimport {\n  Tag,\n  SizeButton,\n  QtyButton,\n  SizeSelect,\n  Button,\n  StyledProductDetail,\n  QtySelect,\n} from \"../styles/components\"\nimport { SEO, Stars } from \"./\"\n\nexport default function ProductDetail({\n  unit_amount,\n  id,\n  product: { name, metadata },\n}) {\n  const formatePrice = priceFormat(unit_amount)\n  const [size, setSize] = useState(2)\n  const [qty, setQty] = useState(1)\n  const { addToCart } = useContext(CartContext)\n\n  const handleSubmit = () => {\n    addToCart({price: unit_amount, sku: id, name, metadata, quantity: qty})\n  }\n\n  return (\n    <StyledProductDetail>\n      <SEO title={name} />\n      <img src={metadata.img} alt={name} />\n      <div>\n        <Tag>Popular</Tag>\n        <h2>{name}</h2>\n        <b>USD {formatePrice}</b>\n        <Stars />\n        {metadata.wear && <h3>Color: Azul</h3>}\n        <small>{metadata.description}</small>\n        {metadata.wear && (\n          <SizeSelect selected={size}>\n            <SizeButton\n              onClick={() => {\n                setSize(1)\n              }}\n            >\n              XS\n            </SizeButton>\n            <SizeButton\n              onClick={() => {\n                setSize(2)\n              }}\n            >\n              S\n            </SizeButton>\n            <SizeButton\n              onClick={() => {\n                setSize(3)\n              }}\n            >\n              M\n            </SizeButton>\n            <SizeButton\n              onClick={() => {\n                setSize(4)\n              }}\n            >\n              L\n            </SizeButton>\n          </SizeSelect>\n        )}\n        <p>Cantidad: </p>\n        <QtySelect>\n          <button onClick={() => (qty > 1 ? setQty(qty - 1) : null)}>-</button>\n          <input type=\"text\" disabled value={qty} />\n          <button onClick={() => setQty(qty + 1)}>+</button>\n        </QtySelect>\n        <Button onClick={handleSubmit}>Agregar al carrito</Button>\n      </div>\n    </StyledProductDetail>\n  )\n}\n","import React, {useState} from 'react'\nimport {SelectStars} from '../styles/components'\n\nexport default function Stars() {\n\n  const [stars, setStars] = useState(5)\n\n  return (\n    <SelectStars selected={stars}>\n      <span onClick={() => setStars(1)}>★</span>\n      <span onClick={() => setStars(2)}>★</span>\n      <span onClick={() => setStars(3)}>★</span>\n      <span onClick={() => setStars(4)}>★</span>\n      <span onClick={() => setStars(5)}>★</span>\n    </SelectStars>\n  )\n}\n","import React, { useContext, useEffect, useState } from 'react'\nimport { Link } from 'gatsby'\nimport { Button, StyledCart } from '../styles/components'\nimport priceFormat from '../utils/priceFormat'\nimport { CartContext } from '../context'\n\nexport default function Cart() {\n  const { cart } = useContext(CartContext)\n  const [total, setTotal] = useState(0)\n  const [stripe, setStripe] = useState()\n\n  const getTotal = () => {\n    setTotal(\n      cart.reduce((acc, current) => acc + current.price * current.quantity, 0)\n    )\n  }\n\n  useEffect(() => {\n    setStripe(\n      window.Stripe(process.env.STRIPE_PK)\n    )\n    getTotal()\n  }, [])\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    const { error } = await stripe.redirectToCheckout({\n      lineItems: cart.map(({ sku, quantity }) => ({ price: sku, quantity })),\n      mode: \"payment\",\n      successUrl: process.env.SUCCESS_REDIRECT,\n      cancelUrl: process.env.CANCEL_REDIRECT,\n    })\n\n    if (error) {\n      throw error\n    }\n  }\n\n  return (\n    <StyledCart>\n      <h2>Carrito de compras</h2>\n      <table>\n        <tbody>\n          <tr>\n            <th>Producto</th>\n            <th>Precio</th>\n            <th>Cantidad</th>\n            <th>Total</th>\n          </tr>\n          {cart.map(swag => (\n            <tr key={swag.sku}>\n              <td>\n                <img src={swag.metadata.img} alt={swag.name} />\n              </td>\n              <td>\n                USD {priceFormat(swag.price)}\n              </td>\n              <td>\n                {swag.quantity}\n              </td>\n              <td>\n                {priceFormat(swag.quantity * swag.price)}\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <nav>\n        <div>\n          <h3>Subtotal: </h3>\n          <small>USD {priceFormat(total)}</small>\n        </div>\n        <div>\n          <Link to='/'>\n            <Button type='outline'>Volver</Button>\n          </Link>\n          <Button onClick={handleSubmit} disabled={cart.length === 0}>\n            Comprar\n          </Button>\n        </div>\n      </nav>\n    </StyledCart>\n  )\n}\n","export { default as Header } from \"./header\"\nexport { default as Layout } from \"./layout\"\nexport { default as SEO } from \"./seo\"\nexport { default as Image } from \"./image\"\nexport { default as Jumbo } from './Jumbo'\nexport { default as Products } from './Products'\nexport { default as ProductDetail } from './ProductDetail'\nexport { default as Stars } from './Stars'\nexport { default as Cart } from './Cart'\n"],"sourceRoot":""}